{"version":3,"sources":["components/Form.js","components/Filter.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Form","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","onChange","type","Filter","filter","handleFilterChange","Person","person","handleDelete","name","number","onClick","id","Persons","persons","map","p","toLowerCase","includes","Notification","message","style","backgroundColor","fontSize","padding","content","baseUrl","personServices","getAll","axios","get","then","response","data","addPerson","newPerson","post","deletePerson","delete","updatePerson","updatedPerson","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","useEffect","event","target","preventDefault","newObject","personToFind","find","window","confirm","setTimeout","catch","error","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.24bc5090.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Form = ({ handleSubmit, handleNameChange, handleNumberChange, newName, newNumber }) => {\r\n\r\n   return (<form onSubmit={handleSubmit}>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNameChange} />\r\n      number: <input value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n    </form>)\r\n\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterChange }) =>{\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input value={filter} onChange={handleFilterChange} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n        <div>\r\n        <p>{person.name} {person.number}</p> <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, filter, handleDelete }) => {\r\n    return(\r\n        <div>\r\n        {persons.map(p => p.name.toLowerCase().includes(filter) ? <Person key={p.id} person={p} handleDelete={handleDelete} /> : null)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if(!message) {\r\n        return null\r\n    }\r\n    else if(message.type === 'positive') {\r\n        return <div style={{backgroundColor: 'green', fontSize: 20, padding: 40}}>{message.content}</div>\r\n    }\r\n    else if(message.type === 'negative') {\r\n        return <div style={{backgroundColor: 'red', fontSize: 20, padding: 40}}>{message.content}</div>\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n  return axios\r\n        .post(baseUrl,newPerson)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios\r\n                .delete(`${baseUrl}/${id}`)\r\n                .then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, updatedPerson) => {\r\n    return axios\r\n                .put(`${baseUrl}/${id}`, updatedPerson)\r\n                .then(response => response.data)\r\n}\r\n\r\nconst personServices = { getAll, addPerson, deletePerson, updatePerson }\r\n\r\nexport default personServices","import React, { useState, useEffect } from 'react'\r\nimport Form from './components/Form'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personServices from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([\r\n    { name: 'Arto Hellas',\r\n      number: 1122\r\n    }\r\n  ]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ notification, setNotification ] = useState({})\r\n\r\n  useEffect(() => {\r\n    personServices.getAll()\r\n                          .then(persons => setPersons(persons))\r\n  },[])\r\n\r\n  const handleSubmit = (event) => {\r\n\r\n    event.preventDefault()\r\n\r\n    const newObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n\r\n    const personToFind = persons.find(p => p.name === newName || p.number === newNumber)\r\n\r\n    if(personToFind) {\r\n      if(window.confirm(`Do you really want to update ${personToFind.name} ${personToFind.number} with ${newName} ${newNumber} ?`)) {\r\n        personServices\r\n                      .updatePerson(personToFind.id, newObject)\r\n                      .then(person => {\r\n                        setPersons(persons.map(p => p.id === person.id ? person : p))\r\n                        setNotification({content: 'Record updated', type: 'positive'})\r\n                        setTimeout(() => {\r\n                          setNotification({})\r\n                        },5000)\r\n                      })\r\n                      .catch(error => {\r\n                        setNotification({content: error.response.data.error, type:'negative'})\r\n                        setTimeout(() => {\r\n                          setNotification({})\r\n                        },5000)\r\n                      })\r\n      }\r\n        \r\n    } else {\r\n    personServices\r\n                  .addPerson(newObject)\r\n                  .then( newPerson => {\r\n                    setPersons(persons.concat(newPerson))\r\n                    setNotification({content: 'New person added', type: 'positive'})\r\n                    setTimeout(() => {\r\n                      setNotification({})\r\n                    },5000)\r\n                  })\r\n                  .catch(error => {\r\n                    const message = error.response.data.error\r\n                    setNotification({content: message, type: 'negative'})\r\n                    setTimeout(() => {\r\n                      setNotification({})\r\n                    },5000)\r\n                  })\r\n                }\r\n\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value.toLowerCase())\r\n  }\r\n\r\n  const handleDeletePerson = (id) => {\r\n    const personToDelete = persons.find(p => p.id === id)\r\n    if(window.confirm(`do you really want to delete ${personToDelete.name} ?`)) {\r\n      personServices\r\n                    .deletePerson(id)\r\n                    .then(response => {\r\n                                      setPersons(persons.filter(p => p.name !== personToDelete.name))\r\n                                      const message = {content: `${personToDelete.name} was deleted`, type: \"negative\"}\r\n                                      setNotification(message)\r\n                                      setTimeout(() => {\r\n                                        setNotification({})\r\n                                      },5000)\r\n                                    })\r\n                    .catch(error => {\r\n                      setNotification({content: `${personToDelete.name} no longer exists`, type: 'negative'})\r\n                      setPersons(persons.filter(p => p.id !== personToDelete.id))\r\n                      setTimeout(() => {\r\n                        setNotification({})\r\n                      },5000)\r\n                    })\r\n    }                      \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={notification} />\r\n      <h1>Phonebook</h1>\r\n      <Filter\r\n             filter={filter}\r\n             handleFilterChange={handleFilterChange}\r\n              />\r\n      <h2>Add a new</h2>\r\n      <Form \r\n           handleSubmit={handleSubmit}\r\n           handleNameChange={handleNameChange}\r\n           handleNumberChange={handleNumberChange}\r\n           newName={newName}\r\n           newNumber={newNumber}\r\n            />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} filter={filter} handleDelete={handleDeletePerson}/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}