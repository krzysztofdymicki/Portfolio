{"version":3,"sources":["components/Form.js","components/Filter.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Form","handleSubmit","handleNameChange","handleNumberChange","newName","newNumber","onSubmit","value","onChange","type","Filter","filter","handleFilterChange","Person","person","handleDelete","name","number","onClick","id","Persons","persons","map","p","toLowerCase","includes","Notification","message","style","backgroundColor","fontSize","padding","content","baseUrl","personServices","getAll","axios","get","then","response","data","addPerson","newPerson","post","deletePerson","delete","updatePerson","updatedPerson","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","notification","setNotification","useEffect","event","target","preventDefault","find","window","alert","personToUpdate","confirm","setTimeout","catch","error","newObject","concat","personToDelete","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.84cac3eb.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Form = ({ handleSubmit, handleNameChange, handleNumberChange, newName, newNumber }) => {\r\n\r\n   return (<form onSubmit={handleSubmit}>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNameChange} />\r\n      number: <input value={newNumber} onChange={handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n    </form>)\r\n\r\n}\r\n\r\nexport default Form","import React from 'react'\r\n\r\nconst Filter = ({ filter, handleFilterChange }) =>{\r\n\r\n    return (\r\n        <div>\r\n            filter shown with <input value={filter} onChange={handleFilterChange} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => {\r\n    return (\r\n        <div>\r\n        <p>{person.name} {person.number}</p> <button onClick={() => handleDelete(person.id)}>Delete</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, filter, handleDelete }) => {\r\n    return(\r\n        <div>\r\n        {persons.map(p => p.name.toLowerCase().includes(filter) ? <Person key={p.id} person={p} handleDelete={handleDelete} /> : null)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n    if(!message) {\r\n        return null\r\n    }\r\n    else if(message.type === 'positive') {\r\n        return <div style={{backgroundColor: 'green', fontSize: 20, padding: 40}}>{message.content}</div>\r\n    }\r\n    else if(message.type === 'negative') {\r\n        return <div style={{backgroundColor: 'red', fontSize: 20, padding: 40}}>{message.content}</div>\r\n    }\r\n    else return null\r\n}\r\n\r\nexport default Notification","import axios from 'axios'\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios\r\n        .get(baseUrl)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst addPerson = (newPerson) => {\r\n  return axios\r\n        .post(baseUrl,newPerson)\r\n        .then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios\r\n                .delete(`${baseUrl}/${id}`)\r\n                .then(response => response.data)\r\n}\r\n\r\nconst updatePerson = (id, updatedPerson) => {\r\n    return axios\r\n                .put(`${baseUrl}/${id}`, updatedPerson)\r\n                .then(response => response.data)\r\n}\r\n\r\nconst personServices = { getAll, addPerson, deletePerson, updatePerson }\r\n\r\nexport default personServices","import React, { useState, useEffect } from 'react'\r\nimport Form from './components/Form'\r\nimport Filter from './components/Filter'\r\nimport Persons from './components/Persons'\r\nimport Notification from './components/Notification'\r\nimport personServices from './services/persons'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([\r\n    { name: 'Arto Hellas',\r\n      number: 1122\r\n    }\r\n  ]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [ notification, setNotification ] = useState({})\r\n\r\n  useEffect(() => {\r\n    personServices.getAll()\r\n                          .then(persons => setPersons(persons))\r\n  },[])\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n    if (!persons.find(p => p.name === newName || p.number === newNumber))\r\n    {const newObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    personServices.addPerson(newObject)\r\n                                      .then(newPerson => {\r\n                                                          setPersons(persons.concat(newPerson))\r\n                                                          const message = {content: `${newPerson.name} added`, type: 'positive'}\r\n                                                          setNotification(message)\r\n                                                          setTimeout(() => {\r\n                                                            setNotification({})\r\n                                                          },5000)\r\n                                      })}\r\n    else if (persons.find(p => p.name === newName && p.number === newNumber)) window.alert(`${newName} with the number ${newNumber} already exists`)\r\n    else {\r\n      const personToUpdate = persons.find(p => p.name === newName || p.number === newNumber)\r\n      const updatedPerson = { name: newName, number: newNumber }\r\n      if(window.confirm(`Do you really want to update person ${personToUpdate.name} ${personToUpdate.number} with ${updatedPerson.name} ${updatedPerson.number} ?`)) {\r\n        personServices\r\n                      .updatePerson(personToUpdate.id,updatedPerson)\r\n                      .then(response =>{ \r\n                                        setPersons(persons.map(p => p.id === response.id ? response : p))\r\n                                        const message = {content: `${personToUpdate.name} ${personToUpdate.number} updated with ${response.name} ${response.number}`, type: 'positive'}\r\n                                        setNotification(message)\r\n                                        setTimeout(() => {\r\n                                          setNotification({})\r\n                                        }, 5000)\r\n                                      })\r\n                      .catch(error => {\r\n                      setNotification({content: `${personToUpdate.name} no longer exists`, type: 'negative'})\r\n                      setPersons(persons.filter(p => p.id !== personToUpdate.id))\r\n                      setTimeout(() => {\r\n                        setNotification({})\r\n                      },5000)\r\n                    })\r\n      }\r\n    }\r\n    setNewName('')\r\n    setNewNumber('')\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value.toLowerCase())\r\n  }\r\n\r\n  const handleDeletePerson = (id) => {\r\n    const personToDelete = persons.find(p => p.id === id)\r\n    if(window.confirm(`do you really want to delete ${personToDelete.name} ?`)) {\r\n      personServices\r\n                    .deletePerson(id)\r\n                    .then(response => {\r\n                                      setPersons(persons.filter(p => p.name !== personToDelete.name))\r\n                                      const message = {content: `${personToDelete.name} was deleted`, type: \"negative\"}\r\n                                      setNotification(message)\r\n                                      setTimeout(() => {\r\n                                        setNotification({})\r\n                                      },5000)\r\n                                    })\r\n                    .catch(error => {\r\n                      setNotification({content: `${personToDelete.name} no longer exists`, type: 'negative'})\r\n                      setPersons(persons.filter(p => p.id !== personToDelete.id))\r\n                      setTimeout(() => {\r\n                        setNotification({})\r\n                      },5000)\r\n                    })\r\n    }                      \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={notification} />\r\n      <h1>Phonebook</h1>\r\n      <Filter\r\n             filter={filter}\r\n             handleFilterChange={handleFilterChange}\r\n              />\r\n      <h2>Add a new</h2>\r\n      <Form \r\n           handleSubmit={handleSubmit}\r\n           handleNameChange={handleNameChange}\r\n           handleNumberChange={handleNumberChange}\r\n           newName={newName}\r\n           newNumber={newNumber}\r\n            />\r\n      <h2>Numbers</h2>\r\n      <Persons persons={persons} filter={filter} handleDelete={handleDeletePerson}/>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}