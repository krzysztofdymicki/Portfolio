(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var c=t(14),o=t.n(c),r=t(3),a=t(1),i=t(0),u=function(e){var n=e.handleSubmit,t=e.handleNameChange,c=e.handleNumberChange,o=e.newName,r=e.newNumber;return Object(i.jsxs)("form",{onSubmit:n,children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{value:o,onChange:t}),"number: ",Object(i.jsx)("input",{value:r,onChange:c})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})},d=function(e){var n=e.filter,t=e.handleFilterChange;return Object(i.jsxs)("div",{children:["filter shown with ",Object(i.jsx)("input",{value:n,onChange:t})]})},s=function(e){var n=e.person,t=e.handleDelete;return Object(i.jsxs)("div",{children:[Object(i.jsxs)("p",{children:[n.name," ",n.number]})," ",Object(i.jsx)("button",{onClick:function(){return t(n.id)},children:"Delete"})]})},l=function(e){var n=e.persons,t=e.filter,c=e.handleDelete;return Object(i.jsx)("div",{children:n.map((function(e){return e.name.toLowerCase().includes(t)?Object(i.jsx)(s,{person:e,handleDelete:c},e.id):null}))})},b=function(e){var n=e.message;return n?"positive"===n.type?Object(i.jsx)("div",{style:{backgroundColor:"green",fontSize:20,padding:40},children:n.content}):"negative"===n.type?Object(i.jsx)("div",{style:{backgroundColor:"red",fontSize:20,padding:40},children:n.content}):null:null},h=t(4),j=t.n(h),f="/api/persons",m={getAll:function(){return j.a.get(f).then((function(e){return e.data}))},addPerson:function(e){return j.a.post(f,e).then((function(e){return e.data}))},deletePerson:function(e){return j.a.delete("".concat(f,"/").concat(e)).then((function(e){return e.data}))},updatePerson:function(e,n){return j.a.put("".concat(f,"/").concat(e),n).then((function(e){return e.data}))}},p=function(){var e=Object(a.useState)([{name:"Arto Hellas",number:1122}]),n=Object(r.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),s=Object(r.a)(o,2),h=s[0],j=s[1],f=Object(a.useState)(""),p=Object(r.a)(f,2),O=p[0],v=p[1],g=Object(a.useState)(""),x=Object(r.a)(g,2),w=x[0],y=x[1],C=Object(a.useState)({}),N=Object(r.a)(C,2),S=N[0],k=N[1];Object(a.useEffect)((function(){m.getAll().then((function(e){return c(e)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsx)(b,{message:S}),Object(i.jsx)("h1",{children:"Phonebook"}),Object(i.jsx)(d,{filter:w,handleFilterChange:function(e){y(e.target.value.toLowerCase())}}),Object(i.jsx)("h2",{children:"Add a new"}),Object(i.jsx)(u,{handleSubmit:function(e){e.preventDefault();var n={name:h,number:O},o=t.find((function(e){return e.name===h||e.number===O}));o?window.confirm("Do you really want to update ".concat(o.name," ").concat(o.number," with ").concat(h," ").concat(O," ?"))&&m.updatePerson(o.id,n).then((function(e){c(t.map((function(n){return n.id===e.id?e:n}))),k({content:"Record updated",type:"positive"}),setTimeout((function(){k({})}),5e3)})).catch((function(e){k({content:e.response.data.error,type:"negative"}),setTimeout((function(){k({})}),5e3)})):m.addPerson(n).then((function(e){c(t.concat(e)),k({content:"New person added",type:"positive"}),setTimeout((function(){k({})}),5e3)})).catch((function(e){var n=e.response.data.error;k({content:n,type:"negative"}),setTimeout((function(){k({})}),5e3)})),j(""),v("")},handleNameChange:function(e){j(e.target.value)},handleNumberChange:function(e){v(e.target.value)},newName:h,newNumber:O}),Object(i.jsx)("h2",{children:"Numbers"}),Object(i.jsx)(l,{persons:t,filter:w,handleDelete:function(e){var n=t.find((function(n){return n.id===e}));window.confirm("do you really want to delete ".concat(n.name," ?"))&&m.deletePerson(e).then((function(e){c(t.filter((function(e){return e.name!==n.name})));var o={content:"".concat(n.name," was deleted"),type:"negative"};k(o),setTimeout((function(){k({})}),5e3)})).catch((function(e){k({content:"".concat(n.name," no longer exists"),type:"negative"}),c(t.filter((function(e){return e.id!==n.id}))),setTimeout((function(){k({})}),5e3)}))}})]})};o.a.render(Object(i.jsx)(p,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.24bc5090.chunk.js.map